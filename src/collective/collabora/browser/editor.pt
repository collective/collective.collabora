<tal:def define="
           error view/error;
         ">

  <div tal:condition="error">
    <h2 i18n:translate="label_error">Error</h2>
    <p i18n:translate="error">${error}</p>
  </div>

  <div tal:condition="python: not error">
    <p>
      <a href="${context/absolute_url}/view"
         i18n:translate=""
      >Close editor</a>
      |
      <a href="${view/wopi_url}&amp;access_token=${view/jwt_token}"
         target="_blank"
         i18n:translate=""
      >Open editor without iframe fin new tab</a>
    </p>
    <!--
         Iframe loads menu but does not show the actual document yet.
         For possible fix, seehttps://forum.collaboraonline.com/t/cross-origin-frame-problems/3099
    -->

    <iframe allowfullscreen="true"
            frameborder="1"
            height="100%"
            scrolling="no"
            src="${view/wopi_url}&amp;access_token=${view/jwt_token}"
            width="100%"
    ></iframe>
  </div>
</tal:def>
